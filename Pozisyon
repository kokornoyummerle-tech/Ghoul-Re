-- SERVICES
local Players = game:GetService("Players")

local lp = Players.LocalPlayer

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "CopyPositionGUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = game.CoreGui

local Frame = Instance.new("Frame")
Frame.Size = UDim2.fromOffset(300, 140)
Frame.Position = UDim2.fromScale(0.35, 0.35)
Frame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 10)

-- TITLE
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundTransparency = 1
Title.Text = "Pozisyon Kopyala"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.TextColor3 = Color3.new(1,1,1)
Title.Parent = Frame

-- BUTTON
local Button = Instance.new("TextButton")
Button.Size = UDim2.fromOffset(200, 50)
Button.Position = UDim2.fromScale(0.5, 0.6)
Button.AnchorPoint = Vector2.new(0.5, 0.5)
Button.BackgroundColor3 = Color3.fromRGB(70, 140, 255)
Button.Text = "KOPYALA"
Button.Font = Enum.Font.GothamBold
Button.TextSize = 16
Button.TextColor3 = Color3.new(1,1,1)
Button.Parent = Frame

Instance.new("UICorner", Button).CornerRadius = UDim.new(0, 8)

-- CORE
Button.MouseButton1Click:Connect(function()
    local char = lp.Character
    if not char then return end

    local hrp = char:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    local p = hrp.Position
    local text = string.format(
        "CFrame.new(%f, %f, %f)",
        p.X, p.Y, p.Z
    )

    if setclipboard then
        setclipboard(text)
        Button.Text = "KOPYALANDI"
        task.delay(1.5, function()
            Button.Text = "KOPYALA"
        end)
    else
        Button.Text = "CLIPBOARD YOK"
    end
end)
