local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local lp = Players.LocalPlayer

local STEP_DISTANCE = 30     -- T basınca ne kadar ileri (1–1.5 güvenli)
local FALL_Y_LIMIT = -20       -- bu Y'nin altına düşerse kurtar
local RESCUE_HEIGHT = 15       -- yukarı ne kadar atsın

local function getHRP()
    local char = lp.Character
    if not char then return end
    return char:FindFirstChild("HumanoidRootPart")
end

UIS.InputBegan:Connect(function(input, gpe)
    if gpe then return end
    if input.KeyCode == Enum.KeyCode.T then
        local hrp = getHRP()
        if hrp then
            hrp.CFrame = hrp.CFrame * CFrame.new(0, 0, -STEP_DISTANCE)
        end
    end
end)

RunService.Heartbeat:Connect(function()
    local hrp = getHRP()
    if not hrp then return end

    if hrp.Position.Y < FALL_Y_LIMIT then
        hrp.CFrame = hrp.CFrame + Vector3.new(0, RESCUE_HEIGHT, 0)
    end
end)
